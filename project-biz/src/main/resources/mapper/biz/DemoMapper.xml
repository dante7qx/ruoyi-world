<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.risun.biz.demo.mapper.DemoMapper">
    
    <delete id="deleteDemoByDemoId">
		update t_demo set del_flag = 1, update_by = #{deleteBy}, update_time = sysdate() where demo_id = #{demoId}
    </delete>

    <delete id="deleteDemoByDemoIds">
        update t_demo set del_flag = 1, update_by = #{deleteBy}, update_time = sysdate() where demo_id in 
        <foreach item="demoId" collection="demoIds" open="(" separator="," close=")">
            #{demoId}
        </foreach>
    </delete>
    
    <insert id="batchInsertDemo" parameterType="List">
   		insert into t_demo (demo_name, demo_time, demo_image, attachment, demo_content, create_by, create_time)
   		values
   		<foreach item="demo" collection="list" separator=",">
   			<trim prefix="(" suffix=")" suffixOverrides=",">
	   			#{demo.demoName}, #{demo.demoTime}, #{demo.demoImage}, #{demo.attachment}, #{demo.demoContent}, #{demo.createBy}, #{demo.createTime}
   			</trim>
    	</foreach>
    </insert>
    
    <delete id="clearDemoData">
    	truncate table t_demo
    </delete>
</mapper>