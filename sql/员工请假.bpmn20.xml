<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:bioc="http://bpmn.io/schema/bpmn/biocolor/1.0" xmlns:flowable="http://flowable.org/bpmn" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:xsd="http://www.w3.org/2001/XMLSchema" targetNamespace="http://www.flowable.org/processdef">
  <process id="flow_user_leave" name="员工请假" flowable:processCategory="请假">
    <startEvent id="startNode1" name="开始">
      <outgoing>Flow_0lhhhh3</outgoing>
    </startEvent>
    <sequenceFlow id="Flow_0lhhhh3" sourceRef="startNode1" targetRef="Activity_05k4fm3" />
    <userTask id="Activity_05k4fm3" name="申请" flowable:dataType="dynamic" flowable:userType="assignee" flowable:assignee="${INITIATOR}">
      <incoming>Flow_0lhhhh3</incoming>
      <incoming>Flow_13oaou4</incoming>
      <incoming>Flow_1uky0si</incoming>
      <outgoing>Flow_0bkokqc</outgoing>
    </userTask>
    <sequenceFlow id="Flow_0bkokqc" sourceRef="Activity_05k4fm3" targetRef="Activity_06rnox0" />
    <exclusiveGateway id="Gateway_1t7ng3j">
      <incoming>Flow_0sgup9a</incoming>
      <outgoing>Flow_1f98viq</outgoing>
      <outgoing>Flow_0xa5771</outgoing>
      <outgoing>Flow_1uky0si</outgoing>
    </exclusiveGateway>
    <sequenceFlow id="Flow_0sgup9a" sourceRef="Activity_06rnox0" targetRef="Gateway_1t7ng3j" />
    <sequenceFlow id="Flow_1f98viq" name="同意" sourceRef="Gateway_1t7ng3j" targetRef="Activity_145ahyn">
      <conditionExpression xsi:type="tFormalExpression">${agree &amp;&amp; days &gt; 3}</conditionExpression>
    </sequenceFlow>
    <userTask id="Activity_06rnox0" name="一级审批" flowable:candidateGroups="1" flowable:dataType="fixed">
      <incoming>Flow_0bkokqc</incoming>
      <outgoing>Flow_0sgup9a</outgoing>
    </userTask>
    <userTask id="Activity_145ahyn" name="二级审批" flowable:candidateGroups="2" flowable:dataType="fixed">
      <incoming>Flow_1f98viq</incoming>
      <outgoing>Flow_15ril0b</outgoing>
    </userTask>
    <exclusiveGateway id="Gateway_0rt37q6">
      <incoming>Flow_15ril0b</incoming>
      <outgoing>Flow_1620k3g</outgoing>
      <outgoing>Flow_13oaou4</outgoing>
    </exclusiveGateway>
    <sequenceFlow id="Flow_15ril0b" sourceRef="Activity_145ahyn" targetRef="Gateway_0rt37q6" />
    <endEvent id="Event_06i1i09" name="结束">
      <incoming>Flow_1620k3g</incoming>
    </endEvent>
    <sequenceFlow id="Flow_1620k3g" name="同意" sourceRef="Gateway_0rt37q6" targetRef="Event_06i1i09">
      <conditionExpression xsi:type="tFormalExpression">${agree}</conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="Flow_13oaou4" name="驳回" sourceRef="Gateway_0rt37q6" targetRef="Activity_05k4fm3">
      <conditionExpression xsi:type="tFormalExpression">${!agree}</conditionExpression>
    </sequenceFlow>
    <endEvent id="Event_0lk9j16" name="结束">
      <incoming>Flow_0xa5771</incoming>
    </endEvent>
    <sequenceFlow id="Flow_0xa5771" name="同意" sourceRef="Gateway_1t7ng3j" targetRef="Event_0lk9j16">
      <documentation>请假天数小于3天</documentation>
      <conditionExpression xsi:type="tFormalExpression">${agree &amp;&amp; days &lt;=3}</conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="Flow_1uky0si" name="驳回" sourceRef="Gateway_1t7ng3j" targetRef="Activity_05k4fm3">
      <conditionExpression xsi:type="tFormalExpression">${!agree}</conditionExpression>
    </sequenceFlow>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_flow">
    <bpmndi:BPMNPlane id="BPMNPlane_flow" bpmnElement="flow_user_leave">
      <bpmndi:BPMNEdge id="Flow_1uky0si_di" bpmnElement="Flow_1uky0si">
        <di:waypoint x="330" y="105" />
        <di:waypoint x="330" y="60" />
        <di:waypoint x="50" y="60" />
        <di:waypoint x="50" y="90" />
        <bpmndi:BPMNLabel>
          <omgdc:Bounds x="179" y="42" width="22" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0xa5771_di" bpmnElement="Flow_0xa5771">
        <di:waypoint x="330" y="155" />
        <di:waypoint x="330" y="222" />
        <bpmndi:BPMNLabel>
          <omgdc:Bounds x="299" y="186" width="22" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_13oaou4_di" bpmnElement="Flow_13oaou4">
        <di:waypoint x="590" y="105" />
        <di:waypoint x="590" y="20" />
        <di:waypoint x="30" y="20" />
        <di:waypoint x="30" y="90" />
        <bpmndi:BPMNLabel>
          <omgdc:Bounds x="299" y="2" width="22" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1620k3g_di" bpmnElement="Flow_1620k3g">
        <di:waypoint x="590" y="155" />
        <di:waypoint x="590" y="222" />
        <bpmndi:BPMNLabel>
          <omgdc:Bounds x="559" y="182" width="22" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_15ril0b_di" bpmnElement="Flow_15ril0b">
        <di:waypoint x="520" y="130" />
        <di:waypoint x="565" y="130" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1f98viq_di" bpmnElement="Flow_1f98viq">
        <di:waypoint x="355" y="130" />
        <di:waypoint x="420" y="130" />
        <bpmndi:BPMNLabel>
          <omgdc:Bounds x="377" y="112" width="22" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0sgup9a_di" bpmnElement="Flow_0sgup9a">
        <di:waypoint x="240" y="130" />
        <di:waypoint x="305" y="130" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0bkokqc_di" bpmnElement="Flow_0bkokqc">
        <di:waypoint x="80" y="130" />
        <di:waypoint x="140" y="130" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0lhhhh3_di" bpmnElement="Flow_0lhhhh3">
        <di:waypoint x="-75" y="130" />
        <di:waypoint x="-20" y="130" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="BPMNShape_startNode1" bpmnElement="startNode1" bioc:stroke="">
        <omgdc:Bounds x="-105" y="115" width="30" height="30" />
        <bpmndi:BPMNLabel>
          <omgdc:Bounds x="-102" y="152" width="22" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0l95kba_di" bpmnElement="Activity_05k4fm3">
        <omgdc:Bounds x="-20" y="90" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1t7ng3j_di" bpmnElement="Gateway_1t7ng3j" isMarkerVisible="true">
        <omgdc:Bounds x="305" y="105" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1tqn3hn_di" bpmnElement="Activity_06rnox0">
        <omgdc:Bounds x="140" y="90" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0ydqsx1_di" bpmnElement="Activity_145ahyn">
        <omgdc:Bounds x="420" y="90" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0rt37q6_di" bpmnElement="Gateway_0rt37q6" isMarkerVisible="true">
        <omgdc:Bounds x="565" y="105" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_06i1i09_di" bpmnElement="Event_06i1i09">
        <omgdc:Bounds x="572" y="222" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <omgdc:Bounds x="579" y="265" width="22" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0lk9j16_di" bpmnElement="Event_0lk9j16">
        <omgdc:Bounds x="312" y="222" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <omgdc:Bounds x="319" y="265" width="22" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>
